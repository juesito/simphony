
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets">

    <f:view contentType="text/html">
        <h:body>
            <ui:composition template="./../WEB-INF/templates/main.xhtml">

                <ui:define name="left">
                    <h:form id="login-form">

                            <div class="msj-login-box">
                                <p:panelGrid id="login" styleClass="loginPanelGrid"
                                             rendered="#{!userBean.current.looged}">

                                    <p:row>
                                        <p:column colspan="2">
                                            <p:outputLabel value="" styleClass="disable" 
                                                           style="color:red !important;" />
                                        </p:column>
                                    </p:row>
                                    <p:row>
                                        <p:column colspan="2">
                                            <p:outputLabel for="userId" value="Usuario:"/>
                                        </p:column>
                                    </p:row>

                                    <p:row>
                                        <p:column>
                                            <p:inputText id="userId" value="#{userBean.current.nick}" 
                                                         maxlength="15" required="true" size="20"
                                                         tabindex="1" >
                                                <f:validateLength minimum="2" />
                                            </p:inputText>
                                            <p:watermark for="userId" value="Usuario" />
                                            <h:message for="userId"  showDetail="false"/>
                                        </p:column>
                                    </p:row>
                                    <p:row>
                                        <p:column>
                                            <p:password id="nick" value="#{userBean.current.password}" 
                                                        maxlength="15" size="20"  
                                                        tabindex="2" feedback="false"
                                                        required="true" />
                                            <p:watermark for="nick" value="ContraseÃ±a" />
                                            <h:message for="nick" showSummary="false"/>
                                        </p:column>
                                    </p:row>

                                    <p:row>
                                        <p:column colspan="2">
                                            <p:commandButton action="#{userBean.login()}"
                                                             tabindex="3" 
                                                             value="Entrar" ajax="false" />  
                                            <p:commandButton action="toindex"
                                                             tabindex="4" immediate="true" 
                                                             value="Salir"  />  

                                        </p:column>

                                    </p:row>
                                </p:panelGrid>

                            </div>
                    </h:form>
                </ui:define>

                <ui:define name="content">

                    <!-- mensaje de bienvenida -->
                    <div class="msj-info-left">
                        <p:outputLabel value="#{msgs.info_titlemsj}" styleClass="welcome-title"/>
                        <br />
                        <p:outputLabel value="#{msgs.info_main_title}" styleClass="welcome-msg"/>

                    </div>

                </ui:define>
            </ui:composition>
        </h:body>
    </f:view>
</html>